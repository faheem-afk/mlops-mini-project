schema: '2.0'
stages:
  data-ingestion:
    cmd: python src/data/data_ingestion.py
    deps:
    - path: src/data/data_ingestion.py
      hash: md5
      md5: 3bee65a20293cd29edc50f7d7ada19e4
      size: 1510
    params:
      params.yaml:
        data_ingestion.test_size: 0.2
    outs:
    - path: data/interim/test_data.csv
      hash: md5
      md5: a2bdbb8889e0b1b400eb611cedd7d651
      size: 162098
    - path: data/interim/train_data.csv
      hash: md5
      md5: 62b9f0c4e921cec8debb427edfc9cb67
      size: 655499
  data_preprocessing:
    cmd: python src/data/data_preprocessing.py
    deps:
    - path: data/interim
      hash: md5
      md5: aff6e1333a1e829cc3f720ae218b72b6.dir
      size: 817597
      nfiles: 2
    - path: src/data/data_preprocessing.py
      hash: md5
      md5: 9e3c6c446564c49b33d13e6e19263a36
      size: 2280
    outs:
    - path: data/preprocessed/test_preprocessed_data.csv
      hash: md5
      md5: e92189f61b06be6eab4e25bff73ad775
      size: 110580
    - path: data/preprocessed/train_preprocessed_data.csv
      hash: md5
      md5: 578781bf7e32a3d9304507a5d6e3ff09
      size: 445254
  feature_engineering:
    cmd: python src/features/feature_engineering.py
    deps:
    - path: data/preprocessed
      hash: md5
      md5: 26966ea1953ef51a128138440cc1a49a.dir
      size: 555834
      nfiles: 2
    - path: src/features/feature_engineering.py
      hash: md5
      md5: 5797a70d99de425f37174c69c6e27f0a
      size: 1337
    params:
      params.yaml:
        feature_engineering.max_features: 5000
    outs:
    - path: data/features/test_bow.csv
      hash: md5
      md5: 197415579ce53f18f244716df265d2f5
      size: 20768044
    - path: data/features/train_bow.csv
      hash: md5
      md5: 119635167cd0c595af0fbbcbfccc565d
      size: 83020492
  model_building:
    cmd: python src/models/1.model_building.py
    deps:
    - path: data/features/train_bow.csv
      hash: md5
      md5: 119635167cd0c595af0fbbcbfccc565d
      size: 83020492
    - path: src/models/1.model_building.py
      hash: md5
      md5: fe40348e0207caf3b3b6fe86051ffb01
      size: 450
    outs:
    - path: models/model.joblib
      hash: md5
      md5: 9f69dc768b71f6ec4fc9c3df7fcd4a55
      size: 75019
  model_evaluation:
    cmd: python src/models/2.evaluation.py
    deps:
    - path: data/features/test_bow.csv
      hash: md5
      md5: 197415579ce53f18f244716df265d2f5
      size: 20768044
    - path: models/model.joblib
      hash: md5
      md5: 9f69dc768b71f6ec4fc9c3df7fcd4a55
      size: 75019
    - path: src/models/2.evaluation.py
      hash: md5
      md5: eafaae4cb009c18a26e44e0ac53d462b
      size: 2690
    outs:
    - path: reports/experiment_info.json
      hash: md5
      md5: 223159215c739ed20f3578c5a65b4dca
      size: 92
    - path: reports/metrics.json
      hash: md5
      md5: a6ec3cd98e2d51d3c2cd2305e49b1bcc
      size: 97
  model_registry:
    cmd: python src/models/3.model_registry.py
    deps:
    - path: reports/experiment_info.json
      hash: md5
      md5: 223159215c739ed20f3578c5a65b4dca
      size: 92
    - path: src/models/3.model_registry.py
      hash: md5
      md5: a8d2dea8232f361986aec5a5ff0e06d3
      size: 583
